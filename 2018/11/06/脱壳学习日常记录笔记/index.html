<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
  <meta name="keywords" content="敬畏之心">
  <meta name="description" content="学习代码之路">
  
  <title>太空独角兽</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/materialize.min.css">
    
      <link rel="stylesheet" href="/css/main.min.css">
    
  
  <style type="text/css">
      html{
          font-family: sans-serif;
          font-weight: 300;
      }
      @font-face {
          font-family: 'Material Icons';
          font-style: normal;
          font-weight: 400;
          src: url(/fonts/MaterialIcons-Regular.eot);
          src: url(/fonts/MaterialIcons-Regular.woff2) format('woff2'),
          url(/fonts/MaterialIcons-Regular.woff) format('woff'),
          url(/fonts/MaterialIcons-Regular.ttf) format('truetype')
      }
  </style>
<link rel="shortcut icon" href="/source/favicon.jpg">
<link rel="stylesheet" href="/css/prism-duotone-sea.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head>
<body>
<div id="menu-box"><a href="javascript:void(0)" id="menu" data-activates="slide-out" class="button-collapse menu" ><span class="nav-btn"></span></a></div>
<div id="menu-outer">
  <div id="menu-inner">
      <ul id="slide-out" class="side-nav" >
    <div class="nav-header"  style="background-image: url(/images/header-bg.png);background-color:#272727">
    <div class="header-box"><img src="/images/明石.jpg" ondragstart="return false;"></div>
    <p>太空独角兽</p>
    <div class="nav-link">
        
        <a href="http://example.com" target="_blank"> <div class="link-box twitter"></div></a>
        
        
        <a href="https://github.com/mskzj" target="_blank"><div class="link-box github"></div></a>
        
        
        <a href="mailto:mskzj123456@163.com"><div class="link-box email"></div></a>
        
        
        <a href="http://example.com" target="_blank"><div class="link-box weibo"></div></a>
        
        
        <a href="https://www.zhihu.com/people/mu-si-kang-lan-zao/activities" target="_blank"> <div class="link-box zhihu"></div></a>
        
    </div>
    <div class="nav-search">
        <form id="search-form"> <!-- 搜索框相关 -->
            <input type="text" id="local-search-input" name="q" results="0" placeholder="搜索..." class="search form-control" autocomplete="off" autocorrect="off"/>
            <div class="nav-search-img"><i class="material-icons">search</i></div>
        </form>
        <div id="local-search-result"></div> <!-- 搜索结果区 -->
        <p class='no-result'>无搜索结果</p>
    </div>
</div>
    <!--Homepage-->

<li class="nav-list">
    <a href="/" target="_self">
        <div class="nav-ico"><i class="material-icons">home</i> </div><p>主页</p>
    </a>
</li>

<!--archives-->

<li class="nav-list dropdown-btn">
    <a  class=""  target="_self">
        <div class="nav-ico"><i class="material-icons">assignment</i></div><p>归档</p><div class="dropdown-ico"><i class="material-icons">arrow_drop_down</i></div>
    </a>
</li>

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="archive-link" href="/archives/2019/01/">January 2019<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/11/">November 2018<span class="archive-count">5</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/09/">September 2018<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/05/">May 2018<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/04/">April 2018<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/03/">March 2018<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/02/">February 2018<span class="archive-count">1</span></a>
    </li>
</ul>
<!--categories-->

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="category-link" href="/categories/web学习/">web学习<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/web安全/">web安全<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/生活/">生活<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/编程/">编程<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/逆向/">逆向<span class="category-count">1</span></a>
    </li>
</ul>
<!--tags-->

<li class="nav-list">
    <a href="/archives" target="_self">
        <div class="nav-ico"><i class="material-icons">bookmark</i> </div><p>标签</p>
    </a>
</li>

<!--photo-->

<!--friends-->

<li class="nav-list">
    <a href="/friends" target="_self">
        <div class="nav-ico"><i class="material-icons">face</i> </div><p>友链</p>
    </a>
</li>

<!--about-->

<li class="nav-list">
    <a href="/about" target="_self">
        <div class="nav-ico"><i class="material-icons">copyright</i> </div><p>关于</p>
    </a>
</li>


</ul>

  </div>
</div>

<div id="content-outer">
  <div id="content-inner">
    
<article id="post">
  <div class="post-page-title"  style="background-color:#272727;background-image:url(/images/random/vateral-16.png)" >
  <h2>脱壳学习日常记录笔记</h2>
    
  <p>作者:太空独角兽 &nbsp&nbsp 发布于:<time datetime="2018-11-06T09:17:34.000Z">
          2018-11-06
    </time>
  </p>
    
  </div>
  <div class="post-page-content">
  <h2 id="2018-11-6之前的笔记"><a href="#2018-11-6之前的笔记" class="headerlink" title="2018/11/6之前的笔记"></a>2018/11/6之前的笔记</h2><p>单步跟踪法—-凭毅力和信心找oep</p>
<p>ESP定律法利用堆栈平衡——有入栈有出栈</p>
<p><strong>VB 常见入口</strong></p>
<pre><code>004012D4    68 54474000     push QQ个性签.00404754
004012D9    E8 F0FFFFFF     call QQ个性签.004012CE                      ; jmp 到 msvbvm60.ThunRTMain
</code></pre><h2 id="2018-11-6"><a href="#2018-11-6" class="headerlink" title="2018/11/6"></a>2018/11/6</h2><h4 id="手脱fsg壳"><a href="#手脱fsg壳" class="headerlink" title="手脱fsg壳"></a>手脱fsg壳</h4><p><strong>1.找oep</strong></p>
<p><strong>脱壳新方法</strong>—特殊ESP定律法：<br>（FSG 2.0 -&gt; bart/xt）<br>单步到push ebp前一步，堆栈第四行（固定位置）即为程序入口地址，再反汇编窗口跟随第四行地址下硬件执行端点点击执行，跳到oep</p>
<p><strong>2.修复</strong></p>
<p>背景–当使用importREC自动查找IAT转存文件不能运行时(IAT有：OEP，RVA，SIZE )<br>手动查找IAT：</p>
<p>1.oep为程序入口。</p>
<p>2.找到有可以某个call函数的rva地址，数据窗口跟随往前翻直到无存储数据的地址为要找的开始的RVA地址，往下翻到无存储数据的地址为结束相应的RVA地址，二者相减为size 。也可手动设置size为一个较大数然后将再无效函数中剪切指针。</p>
<p>3.转存文件</p>
<h4 id="手脱PECompact2-X"><a href="#手脱PECompact2-X" class="headerlink" title="手脱PECompact2.X"></a>手脱PECompact2.X</h4><p><strong>脱壳新方法</strong></p>
<p>直接下断点BP VirtualFree：</p>
<p>方式1：SHIFT+F9（忽略异常运行   ，取消断点 ）;ALT+F9（ 返回到用户代码段，运行至上层调用的下句）;查找 push 8000(特征码)运行到这单步跟</p>
<p>方式2：两次SHIFT+F9中断后取消断点，Alt+F9返回单步走。</p>
<p>后一次异常法：<br>取消所有异常。记录多少次跑飞。找最后一次的前一次的SE句柄转到SE xxxx处，下断点运行。</p>
<h2 id="2018-11-13"><a href="#2018-11-13" class="headerlink" title="2018/11/13"></a>2018/11/13</h2><p><strong>新修复方法：</strong>当遇到脱壳完不能运行而且用imprec也修复不了时可以用lord_pe的重建pe法修复打入需要修复的文件试试</p>
<p><strong>新方法—模拟跟踪法：</strong>先用最后一次异常法到SE句柄处，对所在位置下段运行到，在M窗口找到sfx输入表位置跟踪</p>
<p><code>tc eip&lt;输入表位置</code></p>
<p>然后直接到oep</p>
<h4 id="手脱TELock0-98b1壳"><a href="#手脱TELock0-98b1壳" class="headerlink" title="手脱TELock0.98b1壳"></a>手脱TELock0.98b1壳</h4><p><strong>新修复方法：</strong>当所有的已知方法都死活都不能修复文件的时候，并且有很多无效指针时。使用IR中的trace跟踪无效的指针然后经行修复（这个有多种选择，一是根据trace等级，二是根据每个壳查壳后的特性）</p>
<p>emmmmmmm，这里比较坑的一点是使用od的时候无法直接跟踪无效指针进行修复。需要在运行程序后进行跟踪。</p>
<h2 id="2018-11-14"><a href="#2018-11-14" class="headerlink" title="2018/11/14"></a>2018/11/14</h2><h4 id="手脱exe32pack壳"><a href="#手脱exe32pack壳" class="headerlink" title="手脱exe32pack壳"></a>手脱exe32pack壳</h4><p><strong>新方法</strong>—–下断点BP IsDebuggerPresent 运行，取消断点，执行到用户代码ALT+F9，计算此时的ss+edi为OEP！</p>
<h2 id="2018-11-16"><a href="#2018-11-16" class="headerlink" title="2018/11/16"></a>2018/11/16</h2><h4 id="软件绿化"><a href="#软件绿化" class="headerlink" title="软件绿化"></a>软件绿化</h4><p>开始实战去广告啦！（练习的为吾爱破解网的官方教程）<br>当然去广告之前还是要先脱壳。能修改的都是脱过壳的程序</p>
<p>常见的API</p>
<table>
<thead>
<tr>
<th style="text-align:left">API名</th>
<th style="text-align:center">弹窗原理</th>
<th style="text-align:center">表示</th>
<th style="text-align:center">用法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>1.MessageBoxA/W</strong></td>
<td style="text-align:center">消息框</td>
<td style="text-align:center">MessageBoxA/W</td>
<td style="text-align:center">弹窗</td>
</tr>
<tr>
<td style="text-align:left"><strong>2.ShellExecuteA/W</strong></td>
<td style="text-align:center">控制台执行</td>
<td style="text-align:center">open url</td>
<td style="text-align:center">打开网页</td>
</tr>
<tr>
<td style="text-align:left"><strong>3.WinExec</strong></td>
<td style="text-align:center">Windows执行</td>
<td style="text-align:center">explorer.exe url</td>
<td style="text-align:center">打开网页</td>
</tr>
<tr>
<td style="text-align:left"><strong>4.CreateProcessA/W</strong></td>
<td style="text-align:center">创建进程IE</td>
<td style="text-align:center">PATH url</td>
<td style="text-align:center">打开网页</td>
</tr>
<tr>
<td style="text-align:left"><strong>5.CreateWindowExA/w</strong></td>
<td style="text-align:center">创建窗口</td>
<td style="text-align:center"></td>
<td style="text-align:center">弹窗</td>
</tr>
<tr>
<td style="text-align:left"><strong>6.DialogBoxParamA/W</strong></td>
<td style="text-align:center">创建窗口</td>
<td style="text-align:center"></td>
<td style="text-align:center">弹窗</td>
</tr>
<tr>
<td style="text-align:left"><strong>7.RegCreateKeyExA/W</strong></td>
<td style="text-align:center">注册表 创建 键值</td>
<td style="text-align:center"></td>
<td style="text-align:center">修改配置（如修改浏览器主页）</td>
</tr>
<tr>
<td style="text-align:left"><strong>8.RegOpenKeyExA/W</strong></td>
<td style="text-align:center">注册表 打开 键值</td>
<td style="text-align:center"></td>
<td style="text-align:center">修改配置</td>
</tr>
<tr>
<td style="text-align:left"><strong>9.RegDeleteKeyExA/W</strong></td>
<td style="text-align:center">注册表 删除</td>
<td style="text-align:center"></td>
<td style="text-align:center">修改配置</td>
</tr>
</tbody>
</table>
<p><strong>去除这些API方法：</strong></p>
<p>法1： 跟随表达式下断点，运行此处，然后在堆栈窗口第一条回车找到push的参数，然后进行nop填充</p>
<p>法2：找到这些网页的网址经行00填充</p>
<p>去除方法的原理很简单就是将参数置为00或指令变为NOP。但是由于有些网址有加密所以不能直接找到对应的网址。</p>
<p><strong>注意参数的个数和push相对应</strong></p>
<h2 id="2018-11-20"><a href="#2018-11-20" class="headerlink" title="2018/11/20"></a>2018/11/20</h2><h4 id="软件绿化2"><a href="#软件绿化2" class="headerlink" title="软件绿化2"></a>软件绿化2</h4><p><strong>去除API新方法</strong>：段首改为retn，和段尾的retn保证堆栈平衡。原理就是直接跳过这一段程序。</p>
<h2 id="2018-12-10"><a href="#2018-12-10" class="headerlink" title="2018/12/10"></a>2018/12/10</h2><h4 id="附加数据（overlay）处理"><a href="#附加数据（overlay）处理" class="headerlink" title="附加数据（overlay）处理"></a>附加数据（overlay）处理</h4><blockquote>
<p>附加数据理解：MP3文件需要播放器文件执行打开功能才能读取，而overlay相当于直接在软件最后添加需要读取的数据。让程序执行的时候就带有这一部分数据</p>
</blockquote>
<p><strong>overlay处理原理：</strong>文件映射时，若数据内容不能满足整数个区段的内容，将会自动填充0来使其内存空间为整数个区段。也就是说可以通过大量0来判断区段的开始和结束，找到我们想要的区段。</p>
<p><strong>overlay处理背景：</strong>当然又是脱完壳<strong>程序无法正常运行</strong>的一种情况啦。脱壳的时候可能就直接将这一部分的数据给cut掉了</p>
<p>工具：win hex 等能够改数据的工具</p>
<p>法1：<br>LORDPE找最后一个区段 中ROFFESRT（实际地址） 和RSIZE（实际大小） 相加得到这个区段的头地址</p>
<p>法2：<br>直接再源程序最后向上翻到有很多0的地方（即倒数第二个区段的末尾）</p>
<p>直接添加最后一个区段的附加数据到脱完壳后程序的最后</p>
<p>需要注意的点：</p>
<ol>
<li>不能覆盖其他数据</li>
<li>有时添加完数据后与原文件的位置发生变化，所以要重新定位文件指针</li>
</ol>
<h2 id="2018-12-11"><a href="#2018-12-11" class="headerlink" title="2018/12/11"></a>2018/12/11</h2><h4 id="程序自校验去除"><a href="#程序自校验去除" class="headerlink" title="程序自校验去除"></a>程序自校验去除</h4><p><strong>处理背景：</strong>脱完壳后又又又不能跑起来了</p>
<p><strong>思路：</strong>比较脱完壳和原程序有什么地方运行得不一样，比如原程序未实现某个跳转而脱完壳就实现了</p>
<p>方法</p>
<p>下断：bp CreateFileA<br>改得和原程序运行行为相同即可</p>
<h2 id="2018-12-12"><a href="#2018-12-12" class="headerlink" title="2018/12/12"></a>2018/12/12</h2><p>软件汉化编辑—脱壳应用</p>
<p>工具：</p>
<ul>
<li>resource hacker—-VC类</li>
<li>peexplorer—-BC++</li>
<li>getvbres …………VB类的汉化、DIY</li>
<li>xnresource</li>
</ul>
<h2 id="2018-12-13"><a href="#2018-12-13" class="headerlink" title="2018/12/13"></a>2018/12/13</h2><h4 id="Aspack变形壳"><a href="#Aspack变形壳" class="headerlink" title="Aspack变形壳"></a>Aspack变形壳</h4><p>Ep段:皇后</p>
<p>做的练习是，变形之后esp定律不得行了，有些call就直接跑飞，所以只有单步跟了。</p>
<p>今天遇到还有一个比较坑的地方是循环上下跳转，emmmmmm,就跟个死循环一样，然而程序可以运行则证明这个循环上下跳是有限次的，于是乎，下断F9直接记录多少次（n）F9才会跑飞，然后再次运行n-1次，然后单步跟。</p>
<h2 id="2018-12-14"><a href="#2018-12-14" class="headerlink" title="2018/12/14"></a>2018/12/14</h2><h4 id="ACProtect132（无stolen-code）"><a href="#ACProtect132（无stolen-code）" class="headerlink" title="ACProtect132（无stolen code）"></a>ACProtect132（无stolen code）</h4><p>EP段：.perplex</p>
<p><del>教程和实际操作好多不一样，我是个弟弟</del></p>
<p>这个壳和ximo教程上演示的不太一样，最开始我以为是没有隐藏od的原因，结果一看才知道<strong>52od可以自动隐藏</strong>（太智能了吧）。</p>
<p>然而仅仅忽略内存断点一点用都没得（一次shift+f9直接跑飞）</p>
<p>下面是我的做法：<br>最后一次异常，在se句柄处下内存访问断点然后shift+f9到跑飞的前一次，（删除内存断点）然后单步跟到一个return，然后直接在m中的代码端下（普通）断点，shitf+f9然后单步走跑过这个壳最开始弹的加壳弹窗就直接到oep。</p>
<p>一点小思路：一开始打开这个的时候，它最开始有个弹窗之后才是程序，我最开始的想法是在CreateWindowExA或是其他API下断点然后运行到这个窗口执行完毕就可以定位到oep前，然而…..没有搞出来</p>
<p>今天体会最深的一点是要学会只是的迁移，依葫芦画瓢已经逐渐不可行了，还是要看原理鸭＞︿＜</p>

  </div>
  <!--评论块-->
    

</article>
<nav class="post-nav">
  <!-- Prev Nav -->
    
  <a href="/2018/11/08/无字母数字payload简单脚本和原理/" id="post_nav-newer" class="post-nav-content prev-content">
      新篇
  </a>
    


  <!-- Next Nav -->
    
  <a href="/2018/09/23/tcp，udp简单编程/" id="post_nav-older" class="post-nav-content next-content">
      旧篇
  </a>
    
</nav>
<div class="post-toc-btn"><i class="material-icons">format_list_numbered</i></div>
<div class="post-toc-none"><p>(无)</p></div>
<div class="post-toc-box">
    <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-11-6之前的笔记"><span class="post-toc-number">1.</span> <span class="post-toc-text">2018/11/6之前的笔记</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-11-6"><span class="post-toc-number">2.</span> <span class="post-toc-text">2018/11/6</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#手脱fsg壳"><span class="post-toc-number">2.0.1.</span> <span class="post-toc-text">手脱fsg壳</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#手脱PECompact2-X"><span class="post-toc-number">2.0.2.</span> <span class="post-toc-text">手脱PECompact2.X</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-11-13"><span class="post-toc-number">3.</span> <span class="post-toc-text">2018/11/13</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#手脱TELock0-98b1壳"><span class="post-toc-number">3.0.1.</span> <span class="post-toc-text">手脱TELock0.98b1壳</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-11-14"><span class="post-toc-number">4.</span> <span class="post-toc-text">2018/11/14</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#手脱exe32pack壳"><span class="post-toc-number">4.0.1.</span> <span class="post-toc-text">手脱exe32pack壳</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-11-16"><span class="post-toc-number">5.</span> <span class="post-toc-text">2018/11/16</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#软件绿化"><span class="post-toc-number">5.0.1.</span> <span class="post-toc-text">软件绿化</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-11-20"><span class="post-toc-number">6.</span> <span class="post-toc-text">2018/11/20</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#软件绿化2"><span class="post-toc-number">6.0.1.</span> <span class="post-toc-text">软件绿化2</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-12-10"><span class="post-toc-number">7.</span> <span class="post-toc-text">2018/12/10</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#附加数据（overlay）处理"><span class="post-toc-number">7.0.1.</span> <span class="post-toc-text">附加数据（overlay）处理</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-12-11"><span class="post-toc-number">8.</span> <span class="post-toc-text">2018/12/11</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#程序自校验去除"><span class="post-toc-number">8.0.1.</span> <span class="post-toc-text">程序自校验去除</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-12-12"><span class="post-toc-number">9.</span> <span class="post-toc-text">2018/12/12</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-12-13"><span class="post-toc-number">10.</span> <span class="post-toc-text">2018/12/13</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Aspack变形壳"><span class="post-toc-number">10.0.1.</span> <span class="post-toc-text">Aspack变形壳</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2018-12-14"><span class="post-toc-number">11.</span> <span class="post-toc-text">2018/12/14</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ACProtect132（无stolen-code）"><span class="post-toc-number">11.0.1.</span> <span class="post-toc-text">ACProtect132（无stolen code）</span></a></li></ol></li></ol></li></ol>
</div>
<!--<div class="post-back"><i class="material-icons">arrow_back</i></div>-->
<script type="text/javascript">
    menu();
</script>
  </div>
</div>
<div id="bottom-outer">
  <div id="bottom-inner">
    <a  id="top-button" onfocus="this.blur();"><div class="up upinbody" style="background-color:#272727"><i class="material-icons material-up">vertical_align_top</i></div></a>


<p >Copyright ©  2018  太空独角兽</p>
<p style="font-size: 10px" id="footer-times" data-time="4/4/2018"></p>
<script>
    var beginTime=document.getElementById("footer-times").dataset.time
    function show_date_time(){
        var span=document.getElementById("footer-times")
        window.setTimeout("show_date_time()", 1000);
        BirthDay=new Date(beginTime);//初始日期
        today=new Date();
        timeold=(today.getTime()-BirthDay.getTime());
        sectimeold=timeold/1000
        secondsold=Math.floor(sectimeold);
        msPerDay=24*60*60*1000
        e_daysold=timeold/msPerDay
        daysold=Math.floor(e_daysold);
        e_hrsold=(e_daysold-daysold)*24;
        hrsold=Math.floor(e_hrsold);
        e_minsold=(e_hrsold-hrsold)*60;
        minsold=Math.floor((e_hrsold-hrsold)*60);
        seconds=Math.floor((e_minsold-minsold)*60);
        span.innerHTML="本站已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
    }
    show_date_time();
</script>

  </div>
</div>

<!--影集界面需要的资源-->



<!-- scripts list from theme config.yml -->

<script src="/js/jquery-3.1.1.min.js"></script>

<script src="/js/materialize.min.js"></script>

<script src="/js/main.min.js"></script>


<script>
    NProgress.start();
    NProgress.done();
    lazy();
    links();
    window.onpopstate = menu();
    //pjax操作
    $(document).pjax('a:not(.nopjax)', '#content-inner', {fragment:'#content-inner', timeout:8000});
    $(document).on('pjax:start', NProgress.start).on('pjax:end', NProgress.done)
        .on('pjax:end', () => {
            dowmdiv();
            lazy();
            toc();
            links();
            menu();
        });
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</body>
</html>
